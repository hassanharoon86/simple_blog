<div class="row">
  <% @posts.each do |post| %>
    <div class="row mb-2">
      <div class="col-md-6">
        <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
          <div class="col p-4 d-flex flex-column position-static">
            <strong class="d-inline-block mb-2 text-success"><%= post.user.email %></strong>
            <h3 class="mb-0"><%= post.title %></h3>
            <div class="mb-1 text-muted"><%= post.created_at.to_date %></div>
            <p class="mb-auto"><%= post.content %></p>

            <div class="d-flex justify-content-between align-items-center mt-3">
              <div>
                <% if user_signed_in? %>
                  <% if post.likes.find_by(user: current_user) %>
                    <%= button_to 'Unlike', post_likes_path(post), method: :delete, class: 'btn btn-sm btn-outline-danger' %>
                  <% else %>
                    <%= button_to 'Like', post_likes_path(post), remote: true, class: 'btn btn-sm btn-outline-primary' %>
                  <% end %>
                <% end %>
              </div>
              <small class="text-muted"><%= pluralize(post.likes_count, 'likes') %></small>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
